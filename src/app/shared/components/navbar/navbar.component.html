<header class="w-full bg-white relative z-40">
  <div class="max-w-7xl mx-auto px-4">
    <div class="relative flex items-center justify-end md:justify-between h-16">

      <!-- Logo (Visible cuando el menú está cerrado) -->
      <div class="flex items-center gap-2 absolute left-1/2 -translate-x-1/2 md:static md:translate-x-0">
        <img src="assets/img/logo.png" alt="ViajeroSV" class="h-[3rem]" />
      </div>

      <!-- Desktop Menu -->
      <nav class="hidden md:flex items-center gap-3">
        <a class="px-4 py-2 rounded-full text-sm font-medium font-museo transition-colors duration-200"
           routerLink="/" routerLinkActive #rlaHome="routerLinkActive" [routerLinkActiveOptions]="{exact: true}"
           [ngClass]="rlaHome.isActive ? 'bg-[#0E225C] text-white' : 'bg-[#F4F7FD] text-[#0E225C]'">
          Inicio
        </a>
        <a class="px-4 py-2 rounded-full text-sm font-medium font-museo cursor-pointer transition-colors duration-200"
           routerLink="/coupons" routerLinkActive #rlaCoupons="routerLinkActive"
           [ngClass]="rlaCoupons.isActive ? 'bg-[#0E225C] text-white' : 'bg-[#F4F7FD] text-[#0E225C]'">
          Cupones
        </a>
        <a class="px-4 py-2 rounded-full text-sm font-medium font-museo cursor-pointer transition-colors duration-200"
           routerLink="/about-us" routerLinkActive #rlaAbout="routerLinkActive"
           [ngClass]="rlaAbout.isActive ? 'bg-[#0E225C] text-white' : 'bg-[#F4F7FD] text-[#0E225C]'">
          Quiénes somos
        </a>
        <a class="px-4 py-2 rounded-full text-sm font-medium font-museo cursor-pointer transition-colors duration-200"
           routerLink="/contact" routerLinkActive #rlaContact="routerLinkActive"
           [ngClass]="rlaContact.isActive ? 'bg-[#0E225C] text-white' : 'bg-[#F4F7FD] text-[#0E225C]'">
          Contacto
        </a>

        <button class="ml-2 px-4 py-2 rounded-full text-[#0E225C] bg-[#F4F7FD] text-sm font-museo cursor-pointer">
          Iniciar sesión
        </button>

        <button class="flex items-center gap-2 bg-[#4F8CFF] hover:bg-[#3A78F0] text-white px-5 py-2 rounded-full cursor-pointer text-sm font-medium font-museo">
          Registrarse
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
      </nav>

      <!-- Botón Hamburguesa (Móvil) -->
      <button
        class="md:hidden text-[#0F2A56] p-2 rounded-md hover:bg-gray-100 transition-opacity duration-200"
        [class.opacity-0]="open"
        (click)="open = !open">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
  </div>

<!-- Mobile Menu Overlay -->
  @if (open) {
  <div class="fixed inset-0 z-[9999] md:hidden">

    <!-- Fondo oscuro detrás -->
    <div class="absolute inset-0 bg-black/20 backdrop-blur-[2px] transition-opacity" (click)="open = false"></div>

    <!-- Contenedor Principal -->
    <div class="relative overflow-hidden transition-all duration-300 ease-out h-auto border-b border-white/20">

      <!-- 1. CABECERA (Blanco Sólido) -->
      <div class="relative bg-white flex items-center justify-end h-16 px-4 z-20">

          <!-- Logo Centrado -->
          <div class="absolute left-1/2 -translate-x-1/2">
            <img src="assets/img/logo.png" alt="ViajeroSV" class="h-8" />
          </div>

          <!-- Botón Cerrar -->
          <button
            class="p-2 rounded-xl border border-[#4F8CFF] text-[#4F8CFF] bg-transparent hover:bg-[#F4F7FD] transition-colors"
            (click)="open = false">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
      </div>

      <!-- 2. CUERPO (Difuminado) -->
      <div class="relative bg-white/60 backdrop-blur-xl z-[999]">

        <nav class="flex flex-col items-center py-2 text-[#0E225C] font-museo text-base z-[10001]">

          <!-- Link Inicio -->
          <a class="w-full text-center py-3.5 hover:bg-white/40 transition-colors duration-200 cursor-pointer"
            routerLink="/" routerLinkActive #rlaMobileHome="routerLinkActive" [routerLinkActiveOptions]="{exact: true}"
            [ngClass]="rlaMobileHome.isActive ? 'bg-[#0E225C] text-white' : 'text-[#0E225C]'" (click)="open = false">
            Inicio
          </a>

          <!-- LÍNEA SEPARADORA (Ajustada a specs: 234px ancho, 3px grosor) -->
          <div class="w-[234px] h-0 border-t-[3px] border-[#E6EDFF] mx-auto"></div>

          <!-- Link Cupones -->
          <a class="w-full text-center py-3.5 hover:bg-white/40 transition-colors duration-200 cursor-pointer"
            routerLink="/coupons" routerLinkActive #rlaMobileCoupons="routerLinkActive"
            [ngClass]="rlaMobileCoupons.isActive ? 'bg-[#0E225C] text-white' : 'text-[#0E225C]'" (click)="open = false">
            Cupones
          </a>

          <!-- LÍNEA SEPARADORA -->
          <div class="w-[234px] h-0 border-t-[3px] border-[#E6EDFF] mx-auto"></div>

          <!-- Link Quiénes somos -->
          <a class="w-full text-center py-3.5 hover:bg-white/40 transition-colors duration-200 cursor-pointer"
            routerLink="/about-us" routerLinkActive #rlaMobileAbout="routerLinkActive"
            [ngClass]="rlaMobileAbout.isActive ? 'bg-[#0E225C] text-white' : 'text-[#0E225C]'" (click)="open = false">
            Quiénes somos
          </a>

          <!-- LÍNEA SEPARADORA -->
          <div class="w-[234px] h-0 border-t-[3px] border-[#E6EDFF] mx-auto"></div>

          <!-- Link Contacto -->
          <a class="w-full text-center py-3.5 hover:bg-white/40 transition-colors duration-200 cursor-pointer"
            routerLink="/contact" routerLinkActive #rlaMobileContact="routerLinkActive"
            [ngClass]="rlaMobileContact.isActive ? 'bg-[#0E225C] text-white' : 'text-[#0E225C]'" (click)="open = false">
            Contacto
          </a>

          <!-- LÍNEA SEPARADORA -->
          <div class="w-[234px] h-0 border-t-[3px] border-[#E6EDFF] mx-auto"></div>

          <!-- Link Iniciar sesión -->
          <a class="w-full text-center py-3.5 hover:bg-white/40 transition-all cursor-pointer">
             Iniciar sesión
          </a>

          <!-- LÍNEA SEPARADORA -->
          <div class="w-[234px] h-0 border-t-[3px] border-[#E6EDFF] mx-auto"></div>

           <!-- Link Registrarme -->
           <a class="w-full text-center py-3.5 hover:bg-white/40 transition-all cursor-pointer font-medium">
             Registrarme
           </a>
        </nav>

        <div class="pb-4"></div>

      </div>
    </div>
  </div>
  }
</header>
