<header class="w-full bg-white relative z-40">
  <div class="max-w-7xl mx-auto px-4">
    <div class="relative flex items-center justify-end md:justify-between h-16">

      <!-- Logo -->
      <div class="flex items-center gap-2 absolute left-1/2 -translate-x-1/2 md:static md:translate-x-0">
        <img src="assets/img/logo.png" alt="ViajeroSV" class="h-[3rem]" />
      </div>

      <!-- Desktop Menu -->
      <nav class="hidden md:flex items-center gap-3">
        <!--
           NOTA: routerLinkActive agrega las clases cuando la ruta coincide.
           He usado !bg-[#0E225C] y !text-white con el signo de exclamación (!)
           para forzar que sobrescriban el color base de Tailwind.
        -->

        <!-- INICIO (Necesita exact: true) -->
        <a routerLink="/" routerLinkActive="!bg-[#0E225C] !text-white shadow-md"
          [routerLinkActiveOptions]="{exact: true}"
          class="px-4 py-2 rounded-full text-[#0E225C] bg-[#F4F7FD] hover:bg-gray-100 transition-all duration-300 text-sm font-medium font-museo cursor-pointer transform hover:-translate-y-0.5 hover:shadow-md">
          Inicio
        </a>

        <!-- CUPONES -->
        <a routerLink="/coupons" routerLinkActive="!bg-[#0E225C] !text-white shadow-md"
          class="px-4 py-2 rounded-full text-[#0E225C] bg-[#F4F7FD] hover:bg-gray-100 transition-all duration-300 text-sm font-medium font-museo cursor-pointer transform hover:-translate-y-0.5 hover:shadow-md">
          Cupones
        </a>

        <!-- QUIENES SOMOS -->
        <a routerLink="/about-us" routerLinkActive="!bg-[#0E225C] !text-white shadow-md"
          class="px-4 py-2 rounded-full text-[#0E225C] bg-[#F4F7FD] hover:bg-gray-100 transition-all duration-300 text-sm font-medium font-museo cursor-pointer transform hover:-translate-y-0.5 hover:shadow-md">
          Quiénes somos
        </a>

        <!-- CONTACTO -->
        <a routerLink="/contact" routerLinkActive="!bg-[#0E225C] !text-white shadow-md"
          class="px-4 py-2 rounded-full text-[#0E225C] bg-[#F4F7FD] hover:bg-gray-100 transition-all duration-300 text-sm font-medium font-museo cursor-pointer transform hover:-translate-y-0.5 hover:shadow-md">
          Contacto
        </a>

        <button routerLink="/login"
          class="ml-2 px-4 py-2 rounded-full text-[#0E225C] bg-[#F4F7FD] hover:bg-gray-100 transition-colors text-sm font-museo cursor-pointer transform hover:-translate-y-0.5 hover:shadow-md">
          Iniciar sesión
        </button>

        <button routerLink="/register"
          class="flex items-center gap-2 bg-[#4F8CFF] hover:bg-[#3A78F0] transition-colors text-white px-5 py-2 rounded-full cursor-pointer text-sm font-medium font-museo transform hover:-translate-y-0.5 hover:shadow-md">
          Registrarse
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"
            stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
      </nav>

      <!-- Botón Hamburguesa -->
      <button class="md:hidden text-[#0F2A56] p-2 rounded-md hover:bg-gray-100 transition-opacity duration-200"
        [class.opacity-0]="open" (click)="open = !open">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"
          stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Menu Overlay -->
  @if (open) {
  <div class="fixed inset-0 z-50 md:hidden">
    <div class="absolute inset-0 bg-black/20 backdrop-blur-[2px] transition-opacity" (click)="open = false"></div>

    <div
      class="relative shadow-2xl overflow-hidden transition-all duration-300 ease-out h-auto border-b border-white/20">

      <!-- Cabecera Mobile -->
      <div class="relative bg-white flex items-center justify-end h-16 px-4 z-20">
        <div class="absolute left-1/2 -translate-x-1/2">
          <img src="assets/img/logo.png" alt="ViajeroSV" class="h-8" />
        </div>
        <button
          class="p-2 rounded-xl border border-[#4F8CFF] text-[#4F8CFF] bg-transparent hover:bg-[#F4F7FD] transition-colors"
          (click)="open = false">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"
            stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <!-- Cuerpo Mobile -->
      <div class="relative bg-white/60 backdrop-blur-xl z-10">
        <nav class="flex flex-col items-center py-2 text-[#0E225C] font-museo text-base">

          <!-- Inicio Mobile -->
          <a class="w-full text-center py-3.5 transition-all duration-200 transform hover:-translate-y-0.5 cursor-pointer"
            [routerLinkActiveOptions]="{exact: true}" routerLinkActive="bg-[#E6EDFF] font-bold text-[#4F8CFF]"
            routerLink="/" (click)="open = false">
            Inicio
          </a>

          <div class="w-[234px] h-0 border-t-[3px] border-[#E6EDFF] mx-auto"></div>

          <!-- Cupones Mobile -->
          <a class="w-full text-center py-3.5 hover:bg-white/40 transition-all duration-200 transform hover:-translate-y-0.5 cursor-pointer"
            routerLink="/coupons" routerLinkActive="bg-[#E6EDFF] font-bold text-[#4F8CFF]" (click)="open = false">
            Cupones
          </a>

          <div class="w-[234px] h-0 border-t-[3px] border-[#E6EDFF] mx-auto"></div>

          <!-- Quiénes somos Mobile -->
          <a class="w-full text-center py-3.5 hover:bg-white/40 transition-all duration-200 transform hover:-translate-y-0.5 cursor-pointer"
            routerLinkActive="bg-[#E6EDFF] font-bold text-[#4F8CFF]" routerLink="/about-us" (click)="open = false">
            Quiénes somos
          </a>

          <div class="w-[234px] h-0 border-t-[3px] border-[#E6EDFF] mx-auto"></div>

          <a class="w-full text-center py-3.5 hover:bg-white/40 transition-all duration-200 transform hover:-translate-y-0.5 cursor-pointer"
            routerLinkActive="bg-[#E6EDFF] font-bold text-[#4F8CFF]" routerLink="/contact" (click)="open = false">
            Contacto
          </a>

          <div class="w-[234px] h-0 border-t-[3px] border-[#E6EDFF] mx-auto"></div>

          <a class="w-full text-center py-3.5 hover:bg-white/40 transition-all duration-200 transform hover:-translate-y-0.5 cursor-pointer"
            routerLink="/login" (click)="open = false">
            Iniciar sesión
          </a>

          <div class="w-[234px] h-0 border-t-[3px] border-[#E6EDFF] mx-auto"></div>

          <a class="w-full text-center py-3.5 hover:bg-white/40 transition-all duration-200 transform hover:-translate-y-0.5 cursor-pointer font-medium"
            routerLink="/register" (click)="open = false">
            Registrarme
          </a>
        </nav>
        <div class="pb-4"></div>
      </div>
    </div>
  </div>
  }
</header>
